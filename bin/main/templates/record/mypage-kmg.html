<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mypage2</title>
    <link rel="stylesheet" href="/css/mypage-kmg.css">
</head>
<body>
    <!-- *주의* 추후 파일 위치 옮길 것 -> user, 이름 mypage로 바꿀 것 -->

    <h1>mypage2</h1>
    
    <div sec:authorize="isAnonymous">
        <h1>로그인 후 이용 가능합니다.</h1>
        <a href="/user/login">로그인</a>
        <a href="/ui/main">홈으로</a>
    </div>

    <div sec:authorize="isAuthenticated">

        <div th:if="${totalPoint == null or totalPoint == 0}">
            <div> 최근 기록이 없습니다. </div>
        </div>

        <div th:if="${totalPoint != null and totalPoint != 0}">

            <div th:text="'전체 활동 점수 : ' + ${totalPoint}"></div>

            <div th:each="point : ${points}">
                <div class="points" th:text="${point.key} + ' : ' + ${point.value}"></div>
            </div>
            <div id="chartContainer"><canvas id="myChart"></canvas></div>

        </div>

    </div>


     
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     
<script src="/js/record/mypage-kmg.js"></script>
    
</body>
</html>
