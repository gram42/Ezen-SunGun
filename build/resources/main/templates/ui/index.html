
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/nav.css}">
    <link rel="icon" href="data:;base64,=" />
    <nav th:replace="~{nav.html::top-nav}"></nav>
</head>
<body>
    <nav th:replace="~{nav.html::side-nav}"></nav>

    <div id="elementsContainer">
        <div class="question-box">
            <h2>첫걸음이 어렵다면? 바로 안내해 드립니다!</h2>
        </div>
    
        <div class="button-container">
        
            <button id="fastRecommendation">당장 시작! <br> 맞춤 추천으로 한 걸음 더</button>
    
            <form id="submitForm" action="/chatgpt-api" method="POST" style="display:none;">
                <input id="inputInterests" type="hidden" name="interest">
            </form>
    
            <button onclick="location.href='/ui/select'">선택만 하면 <br> 나만의 길이 보인다!</button>
        </div>
    </div>

<script>
(() => {
    document.querySelector('#fastRecommendation').addEventListener('click', () => {

        fetch('/userInterestsPlz', {
            method: "POST",
            headers: { 'Content-Type': 'application/json' }
        })
        .then(response => response.json())
        .then(res => {

            if (res && res.length > 0) {

                document.querySelector('#inputInterests').value = res;
                document.querySelector('#submitForm').submit();
                
            } else {
                alert("저장하신 관심사가 없습니다.");
            }
        })
        .catch(error => { alert(error.message); });
    });
})();
</script>


<script src="/js/nav.js"></script>
</body>

</html>

